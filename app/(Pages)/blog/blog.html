<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BVS | Blog Posts</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#AA182C">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">    <link rel="icon" type="image/x-icon" href="favicon.ico">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta name="description" content="We are a multidisciplinary tech-enabled project management service, that bridges the gaps between the silos of property management and NYC municipal agencies. ">
  <meta name="keywords" content="BVS, Violations, Expediters, Design, Solutions, Resolution">
  <link rel="author" href="Azark Inc" />
  <link rel="canonical" href="https://bvs.nyc/" />
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css'>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.css'>
  <link rel="stylesheet" href="https://use.typekit.net/oov2wcw.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/slider.css">
  <link rel="stylesheet" href="css/about.css">
</head>

<body>
<nav class="navbar navbar-expand-custom navbar-mainbg" style="position: fixed; width: 100%; z-index: 100">
  <a class="navbar-brand navbar-logo" href="/"><img id="logoimg" src="img/BVS_Logo.png" alt="BVS"/></a>
  <button class="navbar-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false"
          aria-label="Toggle navigation" style="padding-right: 0; margin-right: 2%; padding-left: 10px">
    <i class="fas fa-bars text-white"></i>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav ml-auto">
      <div class="hori-selector">
        <div class="left"></div>
        <div class="right"></div>
      </div>
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/about">About</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/services">Services</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/contact">Contact</a>
      </li>

    </ul>
  </div>
</nav>

<div style="width: 100%; height: 75vh;">
  <img src="img/pageTopper.png"
       class="top-bg" alt="image"/>
  <h1 class="header-text">Blog Posts</h1>
</div>

<div id="blog-posts" style="margin-top: 5%;"></div>

<div style="display: flex; justify-content: center;">
  <img src="img/pagebreak.png" class="page-break" alt="image">
</div>
<div style="position: relative; width: 85%; border-top: #BA2025 solid 2px; margin: auto">
  <footer style="position: relative; border-bottom: #BA2025 solid 2px; margin-bottom: 3vh; display: flex">
    <div class="footer-left">
      <img src="img/BVS_Logo.png" id="footer-img" alt="image" style="object-fit: cover"/>
      <p style="opacity: .8; margin-bottom: 3vh; line-height: 2.5; text-align: left">BVS is an all-inclusive filing representative
        firm that specializes in New York City Department of Building Code, Zoning and Regulations. We provide
        fast, cost effective strategic solutions to ensure property managers, owner's and representatives are
        compliant</p>
    </div>
    <div class="footer-middle">
      <h2 style="text-align: left">Contact Us</h2>
      <a  style="display: flex; flex-direction: row; width: 100%; " href="mailto: admin@bvs.nyc">
            <span class="fas fa-envelope text-white"
                  style="padding: 2%; background-color: #ad172c; border-radius: 500px; margin: auto 2%"></span>
        admin@bvs.nyc
      </a>
      <a  style="display: flex; flex-direction: row; width: 100%; " href="https://maps.app.goo.gl/3S2kgXWk48vREADu9" target="_blank">
            <span class="fas fa-location-arrow text-white"
                  style="padding: 2%; background-color: #BA2025; border-radius: 500px; margin: auto 2%"></span>
        130 W 37th Street New York, NY 10018
      </a>
      <a  style="display: flex; flex-direction: row; width: 100%; " href="tel:212-547-9000">
            <span class="fas fa-phone text-white"
                  style="padding: 2%; background-color: #ad172c; border-radius: 500px; margin: auto 2%"></span>
        212-547-9000
      </a>
    </div>
    <div class="footer-right">
      <h2 style="text-align: left">Pages</h2>
      <a class="footer-tab" href="/">Home</a>
      <a class="footer-tab" href="/about">About</a>
      <a class="footer-tab" href="/services">Services</a>
      <a class="footer-tab" href="/contact">Contact</a>
      <a class="footer-tab" href="/blog">Blog</a>
    </div>
  </footer>
  <a class="pptos" href="privacy-policy.html">Privacy Policy</a>
</div>


<script>
  const BLOG_URL = 'https://azark-blog-backend.onrender.com/api/posts';

  async function customFetch() {
    try {
      const res = await fetch(BLOG_URL);
      if (!res.ok) {
        throw new Error(`${res.status} : ${res.statusText}`)
      }

      const json = await res.json();
      return json;
    } catch (err) {
      console.error(err.message)
    }
  }

  const createListItem = (item) => {

    function rfc3986EncodeURIComponent (str) {
      return encodeURIComponent(str).replace(/[!'()*]/g, escape);
    }

    if (item.categories.includes("bvs") && item.published === true) {
      const formattedCreated = new Date(item.createdAt).toLocaleDateString('en-US', {
        month: "long",  // Use "short" for abbreviated month
        day: "numeric",
        year: "numeric",
      })

      return ` <div class="responsive-two-column-grid">
  <div class="left-container1" style="cursor: pointer" onclick="location.assign('blog-single.html?id=${rfc3986EncodeURIComponent(item.identifier)}');">
    <h1 class="hover-text about-hover" style="text-align: center">${item.title}</h1>
        <h3 style="text-align: center">${item.author}</h3>
        <h3 style="text-align: center">${formattedCreated}</h3>

    <h4 style="line-height: 1.75; text-align: center">${item.clincher}</h4></div>
  <div>
    <div class="photo-container" style="cursor: pointer" onclick="location.assign('blog-single.html?id=${rfc3986EncodeURIComponent(item.identifier)}');">
      <img class="parallax"
           src="${item.photo}"
           style="width: 100%; height: 50vh; object-fit: cover" alt="image"/>
    </div>
  </div>
</div>
`
    }
  }

  const getPosts = async () => {
    const data = await customFetch();
    const posts = data.reverse().map(posts => posts);
    const listItems = posts.map(t => createListItem(t)).join("")

    const insertBefore = (element, htmlString) => element.insertAdjacentHTML("afterbegin", htmlString);

    const element = document.getElementById("blog-posts");

    return insertBefore(element, `${listItems}`)
  }

  getPosts()


  /*fetch(BLOG_URL)
     .then(res => res.json())
     .then(console.log); */

</script>


<script src='https://code.jquery.com/jquery-3.4.1.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js'></script>
<script src="js/simpleParallax.js"></script>
<script src="js/script.js"></script>

<link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
<script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
<script type="text/javascript">window.onload = function () {
  Calendly.initBadgeWidget({
    url: 'https://calendly.com/general-services',
    text: 'Free Consultation',
    color: '#ad172c',
    textColor: '#ffffff',
    branding: false,
    zIndex: 100
  });
}</script>
</body>
</html>